#!/bin/bash

if [ "x$1" = "x" ]
then
  options="completelatin greek cyrillic"
elif [ "$1" = "minimal" ] 
then
  options=""
else
  options="$1"
fi

mkdir -p pfb tfm vf dvips

echo "Creating PostScript fonts ..."

for font in otf/*.otf
do
  cfftot1 $font $(basename $font .otf).pfb
done
for font in *.pfb
do
  t1dotlessj $font $(basename $font .pfb)LCDFJ.pfb
done

echo "Creating TeX metrics ..."

./scripts/maketfm MinionPro "$options" | grep -v '^I had to' | sort -u >dvips/MinionPro.map

mv *.pfb      pfb

(cd fontinst; ../scripts/makeint MinionPro)

